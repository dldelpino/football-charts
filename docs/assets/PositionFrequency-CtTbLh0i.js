import{h as _}from"./highcharts-vue.min-DrW9eCuL.js";import{_ as y,S as $,P as w}from"./SelectLeague-7_ncoknL.js";import{S as V}from"./SelectPosition-BaIKJQJe.js";import{r as u,w as d,N as k,G as f,L as b,K as p,F as C,T as P,P as B}from"./index-C6mlnINT.js";import"./QBtn-1lZu7ACE.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./format-CSC_wmZ4.js";const O={class:"buttons-container"},T={class:"buttons-container",style:{"padding-bottom":"30px"}},E={__name:"PositionFrequency",setup(F){const a=u(null),e=u(null),i=u(null),m=u({title:{text:""},chart:{backgroundColor:"#eeeeee"},credits:{enabled:!1}}),h=u(0);function g(){fetch(`data/${a.value.toLowerCase().replace(/\s+/g,"_")}.csv`).then(o=>o.text()).then(o=>{w.parse(o,{header:!0,complete:s=>{const n=s.data.reduce((t,l)=>(l["#"]==e.value&&(t[l.Team]=(t[l.Team]||0)+1),t),{}),c=Object.keys(n).length,v=[];for(let t=1;t<=c;t++)v.push(`hsl(120, ${Math.floor(t/(c+1)*100)}%, ${Math.floor(t/(c+1)*100)}%)`);const x=Object.entries(n).sort((t,l)=>l[1]-t[1]).map(([t,l])=>({name:t,y:l}));let r;e.value==1?r="st":e.value==2?r="nd":e.value==3?r="rd":r="th",m.value={title:{text:""},chart:{backgroundColor:"#eeeeee",type:"pie",height:700,width:1e3},colors:v,plotOptions:{pie:{size:500,dataLabels:{enabled:!0,useHTML:!0,style:{fontFamily:"Inter"},formatter:function(){return`<div class="row no-wrap items-center" style="font-size: 11px"><img src="https://raw.githubusercontent.com/dldelpino/football-charts/refs/heads/main/public/icons/teams/${a.value}/${this.point.name}.png" style="width: 16px; margin-right: 6px">${this.point.name} (${this.point.y}) &#8203 &#8203 &#8203 &#8203 &#8203</div>`}}}},series:[{name:`Times finished ${e.value}${r}`,data:x}],credits:{enabled:!1}}}})}),h.value++}return d(a,()=>{e.value=null}),d(a,o=>{o=="Bundesliga"?i.value=18:i.value=20}),d(e,()=>{e.value>i.value?e.value=i.value:e.value!=null&&e.value<1&&(e.value=1)}),(o,s)=>(f(),k(B,null,[b("div",O,[p(y,{modelValue:a.value,"onUpdate:modelValue":s[0]||(s[0]=n=>a.value=n)},null,8,["modelValue"]),p(V,{modelValue:e.value,"onUpdate:modelValue":s[1]||(s[1]=n=>e.value=n),modelModifiers:{number:!0},disable:!a.value,max:i.value},null,8,["modelValue","disable","max"]),p($,{onClick:g})]),b("div",T,[(f(),C(P(_.Chart),{key:h.value,options:m.value},null,8,["options"]))])],64))}};export{E as default};
