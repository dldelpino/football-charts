import{_ as h,S as f,a as b}from"./SelectLeague-DQY_v0Kb.js";import{h as y}from"./highcharts-vue.min-BwRlfGL6.js";import{r as l,N as _,G as c,L as u,K as d,F as v,T as x,P as w}from"./index-6tADWFgs.js";import"./QBtn-DyOqBT4R.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./format-Dhn8UNVX.js";const k={class:"buttons-container"},L={class:"buttons-container",style:{"padding-bottom":"30px"}},A={__name:"RelegationFrequency",setup(C){const t=l(null),r=l({title:{text:""},chart:{backgroundColor:"#eeeeee"},credits:{enabled:!1}}),i=l(0),p={LaLiga:"Spain","Premier League":"England","Serie A":"Italy",Bundesliga:"Germany","Ligue 1":"France"},m=async()=>{if(!t.value)return;const s=(await b.get("https://football-charts-backend.onrender.com/relegation-frequency",{params:{league_name:t.value}})).data;i.value++;const a=Object.entries(s).sort((e,n)=>n[1]-e[1]).map(([e,n])=>({name:e,y:n})),o=a[0].y;a.forEach(e=>{e.name=`<div class="row no-wrap items-center" style="font-size: 11px;">${e.name}<img src="https://raw.githubusercontent.com/dldelpino/football-charts/refs/heads/main/public/icons/teams/${p[t.value]}/${e.name}.png" style="width: 16px; margin-left: 6px;"></div>`,e.color=`hsl(120, ${(1-e.y/(o+1))*100}%, ${(1-e.y/(o+1))*100}%)`}),r.value={title:{text:""},chart:{backgroundColor:"#eeeeee",type:"bar",height:30*a.length,width:800,marginRight:20},legend:{enabled:!1},xAxis:{type:"category",labels:{useHTML:!0}},yAxis:{max:o,title:"",labels:{enabled:!1}},plotOptions:{bar:{dataLabels:{enabled:!0,overflow:"allow",crop:!1,style:{fontFamily:"Inter"}}}},series:[{name:"Times relegated",data:a,pointWidth:20}],credits:{enabled:!1}}};return(g,s)=>(c(),_(w,null,[u("div",k,[d(h,{modelValue:t.value,"onUpdate:modelValue":s[0]||(s[0]=a=>t.value=a)},null,8,["modelValue"]),d(f,{onClick:m})]),u("div",L,[(c(),v(x(y.Chart),{key:i.value,options:r.value},null,8,["options"]))])],64))}};export{A as default};
