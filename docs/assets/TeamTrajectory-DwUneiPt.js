import{Q as M,c as P,_ as k,S as G,L as $,a as C,b as D}from"./ShowResults-Du_fj1Uo.js";import{_ as N}from"./ChartTable-nvTgKYAb.js";import{U as h,a as V,F as y,G as m,H as w,i as p,Q as _,M as v,K as d,V as U,W as B,L as c,T,u as o,w as F,N as Q,S as x,R as j,O as z}from"./index-C71S0-IE.js";import"./QBtn-D7_oY-mg.js";import"./format-BVysH4bM.js";import"./QList-B-rw76l0.js";const R={style:{display:"flex","align-items":"center",gap:"8px"}},W=["src"],A={__name:"SelectTeam",props:{modelValue:{},modelModifiers:{},league:{},leagueModifiers:{}},emits:["update:modelValue","update:league"],setup(f){const e=h(f,"modelValue"),l=h(f,"league"),b=p("leagueCountry"),g=p("leagueTeams"),n=V(()=>l.value?g[l.value]:[]);return(r,s)=>(m(),y(M,{modelValue:e.value,"onUpdate:modelValue":s[0]||(s[0]=a=>e.value=a),disable:!l.value,options:n.value,outlined:"",rounded:"","bg-color":"white",size:"100px",dense:"",color:"secondary",style:{width:"220px"},label:"Team"},{option:w(a=>[d(P,U(B(a.itemProps)),{default:w(()=>[c("div",R,[c("img",{src:`icons/teams/${T(b)[l.value]}/${a.opt}.png`,width:"16px"},null,8,W),_(" "+v(a.opt),1)])]),_:2},1040)]),"selected-item":w(a=>[_(v(a.opt),1)]),_:1},8,["modelValue","disable","options"]))}},E={class:"buttons-container"},H={class:"data-container"},Y={__name:"TeamTrajectory",setup(f){const e=o(null),l=o(null),b=p("specialLeagues"),g=p("tableLegend"),n=o([]);let r;const s=o(!1),a=o(!1),L=async()=>{if(!e.value||!l.value)return;s.value=!0;const u=setTimeout(()=>{a.value=!0},1e4);b.includes(e.value)?r=o([{name:"status",field:"status",label:"",sortable:!1,style:"width: 8px; padding: 0",headerStyle:"width: 8px; padding: 0"},{name:"season",field:"season",label:"Season",sortable:!0},{name:"position",field:"position",label:"#",sortable:!0},{name:"team",field:"team",label:"Team",sortable:!0,align:"left",style:"width: 210px"},{name:"ppm",field:"ppm",label:"PPM",sortable:!0,style:"width: 70px; font-weight: bold"},{name:"points",field:"points",label:"Points",sortable:!0,style:"width: 70px"},{name:"matches_played",field:"matches_played",label:"MP",sortable:!0,style:"width: 70px"},{name:"wins",field:"wins",label:"W",sortable:!0,style:"width: 70px"},{name:"draws",field:"draws",label:"D",sortable:!0,style:"width: 70px"},{name:"losses",field:"losses",label:"L",sortable:!0,style:"width: 70px"},{name:"goals_for",field:"goals_for",label:"GF",sortable:!0,style:"width: 70px"},{name:"goals_against",field:"goals_against",label:"GA",sortable:!0,style:"width: 70px"},{name:"goal_difference",field:"goal_difference",label:"GD",sortable:!0,style:"width: 70px"}]):r=o([{name:"status",field:"status",label:"",sortable:!1,style:"width: 8px; padding: 0",headerStyle:"width: 8px; padding: 0"},{name:"season",field:"season",label:"Season",sortable:!0},{name:"position",field:"position",label:"#",sortable:!0},{name:"team",field:"team",label:"Team",sortable:!0,align:"left",style:"width: 210px"},{name:"points",field:"points",label:"Points",sortable:!0,style:"width: 70px; font-weight: bold"},{name:"matches_played",field:"matches_played",label:"MP",sortable:!0,style:"width: 70px"},{name:"wins",field:"wins",label:"W",sortable:!0,style:"width: 70px"},{name:"draws",field:"draws",label:"D",sortable:!0,style:"width: 70px"},{name:"losses",field:"losses",label:"L",sortable:!0,style:"width: 70px"},{name:"goals_for",field:"goals_for",label:"GF",sortable:!0,style:"width: 70px"},{name:"goals_against",field:"goals_against",label:"GA",sortable:!0,style:"width: 70px"},{name:"goal_difference",field:"goal_difference",label:"GD",sortable:!0,style:"width: 70px"}]);const t=await D.get("https://football-charts-backend.onrender.com/team-trajectory",{params:{league_name:e.value,team_name:l.value}});clearTimeout(u),s.value=!1,a.value=!1,n.value=t.data};F(e,()=>{l.value=null});const S=V(()=>g.filter(u=>n.value.some(t=>t.status==u.key)));return(u,t)=>(m(),Q(z,null,[c("div",E,[d(k,{modelValue:e.value,"onUpdate:modelValue":t[0]||(t[0]=i=>e.value=i)},null,8,["modelValue"]),d(A,{modelValue:l.value,"onUpdate:modelValue":t[1]||(t[1]=i=>l.value=i),league:e.value,"onUpdate:league":t[2]||(t[2]=i=>e.value=i)},null,8,["modelValue","league"]),d(G,{onClick:L})]),c("div",H,[s.value?(m(),y(C,{key:0})):x("",!0),d($,{class:j({visible:a.value})},null,8,["class"]),n.value.length&&!s.value?(m(),y(N,{key:1,rows:n.value,columns:T(r),legend:S.value},null,8,["rows","columns","legend"])):x("",!0)])],64))}};export{Y as default};
