import{_ as b,S as v,Q as x,a as _}from"./SelectLeague-Cq3o93oc.js";import{h as k}from"./highcharts-vue.min-CgXsaGZA.js";import{u as n,N as w,G as i,L as d,K as p,F as m,S as h,T as C,P as L}from"./index-BYdnIlzH.js";import"./QBtn-BCFpf1mP.js";import"./format-OTJVNKAT.js";const V={class:"buttons-container"},S={class:"buttons-container",style:{"padding-bottom":"30px"}},A={__name:"PromotionFrequency",setup($){const t=n(null),f={LaLiga:"Spain","Premier League":"England","Serie A":"Italy",Bundesliga:"Germany","Ligue 1":"France"},c=n(0),u=n({title:{text:""},chart:{backgroundColor:"#eeeeee"},credits:{enabled:!1}}),o=n(!1),g=async()=>{if(o.value=!0,!t.value)return;const s=(await _.get("https://football-charts-backend.onrender.com/promotion-frequency",{params:{league_name:t.value}})).data;c.value++;const a=Object.entries(s).sort((e,r)=>r[1]-e[1]).map(([e,r])=>({name:e,y:r})),l=a[0].y;a.forEach(e=>{e.name=`<div class="row no-wrap items-center" style="font-size: 11px;">${e.name}<img src="https://raw.githubusercontent.com/dldelpino/football-charts/refs/heads/main/public/icons/teams/${f[t.value]}/${e.name}.png" style="width: 16px; margin-left: 6px;"></div>`,e.color=`hsl(120, ${(1-e.y/(l+1))*100}%, ${(1-e.y/(l+1))*100}%)`}),o.value=!1,u.value={title:{text:""},chart:{backgroundColor:"#eeeeee",type:"bar",height:30*a.length,width:800,marginRight:20},legend:{enabled:!1},xAxis:{type:"category",labels:{useHTML:!0}},yAxis:{max:l,title:"",labels:{enabled:!1}},plotOptions:{bar:{dataLabels:{enabled:!0,overflow:"allow",crop:!1,style:{fontFamily:"Inter"}}}},series:[{name:"Times promoted",data:a,pointWidth:20}],credits:{enabled:!1}}};return(y,s)=>(i(),w(L,null,[d("div",V,[p(b,{modelValue:t.value,"onUpdate:modelValue":s[0]||(s[0]=a=>t.value=a)},null,8,["modelValue"]),p(v,{onClick:g})]),d("div",S,[o.value?(i(),m(x,{key:0,style:{"margin-top":"50px"},color:"secondary",size:"50px",thickness:10})):h("",!0),o.value?h("",!0):(i(),m(C(k.Chart),{key:c.value,options:u.value},null,8,["options"]))])],64))}};export{A as default};
