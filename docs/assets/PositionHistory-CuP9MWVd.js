import{_ as y,S as x,L as P,a as V,b as L}from"./ShowResults-Nx2Mhmat.js";import{C as k}from"./ChartTable-zjl49pKN.js";import{_ as G}from"./SelectNumber-CTcQuaoc.js";import{u as a,w as f,N as M,G as b,L as p,K as i,F as c,S as w,R as S,T,O as C,i as g}from"./index-f5IyWRG0.js";import"./QBtn-BcJNBAYa.js";import"./format-CXuO-1qg.js";import"./QList-DTPNfQwu.js";const D={class:"buttons-container"},B={class:"data-container"},z={__name:"PositionHistory",setup(F){const l=a(null),e=a(null),n=a(null),h=g("leaguePositions"),v=g("specialLeagues"),r=a([]);let u;const o=a(!1),d=a(!1),_=async()=>{if(!l.value||!e.value)return;o.value=!0;const s=setTimeout(()=>{d.value=!0},1e4);v.includes(l.value)?u=a([{name:"season",field:"season",label:"Season",sortable:!0},{name:"position",field:"position",label:"#",sortable:!0},{name:"team",field:"team",label:"Team",sortable:!0,align:"left",style:"width: 210px"},{name:"ppm",field:"ppm",label:"PPM",sortable:!0,style:"width: 70px; font-weight: bold"},{name:"points",field:"points",label:"Points",sortable:!0,style:"width: 70px"},{name:"matches_played",field:"matches_played",label:"MP",sortable:!0,style:"width: 70px"},{name:"wins",field:"wins",label:"W",sortable:!0,style:"width: 70px"},{name:"draws",field:"draws",label:"D",sortable:!0,style:"width: 70px"},{name:"losses",field:"losses",label:"L",sortable:!0,style:"width: 70px"},{name:"goals_for",field:"goals_for",label:"GF",sortable:!0,style:"width: 70px"},{name:"goals_against",field:"goals_against",label:"GA",sortable:!0,style:"width: 70px"},{name:"goal_difference",field:"goal_difference",label:"GD",sortable:!0,style:"width: 70px"}]):u=a([{name:"season",field:"season",label:"Season",sortable:!0},{name:"position",field:"position",label:"#",sortable:!0},{name:"team",field:"team",label:"Team",sortable:!0,align:"left",style:"width: 210px"},{name:"points",field:"points",label:"Points",sortable:!0,style:"width: 70px; font-weight: bold"},{name:"matches_played",field:"matches_played",label:"MP",sortable:!0,style:"width: 70px"},{name:"wins",field:"wins",label:"W",sortable:!0,style:"width: 70px"},{name:"draws",field:"draws",label:"D",sortable:!0,style:"width: 70px"},{name:"losses",field:"losses",label:"L",sortable:!0,style:"width: 70px"},{name:"goals_for",field:"goals_for",label:"GF",sortable:!0,style:"width: 70px"},{name:"goals_against",field:"goals_against",label:"GA",sortable:!0,style:"width: 70px"},{name:"goal_difference",field:"goal_difference",label:"GD",sortable:!0,style:"width: 70px"}]);const t=await L.get("https://football-charts-backend.onrender.com/position-history",{params:{league_name:l.value,position:e.value}});clearTimeout(s),o.value=!1,d.value=!1,r.value=t.data};return f(l,()=>{e.value=null}),f(l,s=>{n.value=h[s]}),f(e,s=>{s>n.value?e.value=n.value:e.value!=null&&e.value<1&&(e.value=1)}),(s,t)=>(b(),M(C,null,[p("div",D,[i(y,{modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=m=>l.value=m)},null,8,["modelValue"]),i(G,{modelValue:e.value,"onUpdate:modelValue":t[1]||(t[1]=m=>e.value=m),modelModifiers:{number:!0},disable:!l.value,label:"Pos."},null,8,["modelValue","disable"]),i(x,{onClick:_})]),p("div",B,[o.value?(b(),c(V,{key:0})):w("",!0),i(P,{class:S({visible:d.value})},null,8,["class"]),r.value.length&&!o.value?(b(),c(k,{key:1,rows:r.value,columns:T(u)},null,8,["rows","columns"])):w("",!0)])],64))}};export{z as default};
