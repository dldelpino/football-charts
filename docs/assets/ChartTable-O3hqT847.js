import{Q as N,a as fe}from"./QTable-y0yCDOCI.js";import{c as ge,g as me,r as j,a as h,w as B,o as D,k as L,t as M,h as R,T as he,f as ye,H as V,I as m,Y as pe,J as c,N as k,P as x,V as q,Q as ve,R as ke,U as b,Z as I,O as S,M as C}from"./index-BFLqRv9F.js";import{v as be,f as W,u as _,h as we,p as z,i as Te,j as xe,k as Se,l as Ce,m as _e,r as U,s as Oe,n as Pe}from"./ShowResults-vaSCvGOq.js";import{u as Ee,s as He,b as Qe,j as Ae,e as Ne,i as $,n as je}from"./format-DrWidby5.js";import{h as Be,Q as De}from"./QBtn-Cc9BGu34.js";const Le=ge({name:"QTooltip",inheritAttrs:!1,props:{...we,...Qe,..._,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{..._.transitionShow,default:"jump-down"},transitionHide:{..._.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:W},self:{type:String,default:"top middle",validator:W},offset:{type:Array,default:()=>[14,14],validator:be},scrollTarget:He,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...Ee],setup(t,{slots:s,emit:y,attrs:a}){let o,e;const i=me(),{proxy:{$q:l}}=i,d=j(null),p=j(!1),F=h(()=>z(t.anchor,l.lang.rtl)),J=h(()=>z(t.self,l.lang.rtl)),Y=h(()=>t.persistent!==!0),{registerTick:Z,removeTick:G}=Te(),{registerTimeout:v}=Ae(),{transitionProps:K,transitionStyle:X}=xe(t),{localScrollTarget:O,changeScrollEvent:ee,unconfigureScrollTarget:te}=Se(t,Q),{anchorEl:r,canShow:oe,anchorEvents:f}=Ce({showing:p,configureAnchorEl:ue}),{show:ae,hide:w}=Ne({showing:p,canShow:oe,handleShow:se,handleHide:le,hideOnRouteChange:Y,processOnMount:!0});Object.assign(f,{delayShow:re,delayHide:ie});const{showPortal:P,hidePortal:E,renderPortal:ne}=_e(i,d,de,"tooltip");if(l.platform.is.mobile===!0){const n={anchorEl:r,innerRef:d,onClickOutside(u){return w(u),u.target.classList.contains("q-dialog__backdrop")&&ye(u),!0}},T=h(()=>t.modelValue===null&&t.persistent!==!0&&p.value===!0);B(T,u=>{(u===!0?Pe:U)(n)}),D(()=>{U(n)})}function se(n){P(),Z(()=>{e=new MutationObserver(()=>g()),e.observe(d.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),g(),Q()}),o===void 0&&(o=B(()=>l.screen.width+"|"+l.screen.height+"|"+t.self+"|"+t.anchor+"|"+l.lang.rtl,g)),v(()=>{P(!0),y("show",n)},t.transitionDuration)}function le(n){G(),E(),H(),v(()=>{E(!0),y("hide",n)},t.transitionDuration)}function H(){e!==void 0&&(e.disconnect(),e=void 0),o!==void 0&&(o(),o=void 0),te(),L(f,"tooltipTemp")}function g(){Oe({targetEl:d.value,offset:t.offset,anchorEl:r.value,anchorOrigin:F.value,selfOrigin:J.value,maxHeight:t.maxHeight,maxWidth:t.maxWidth})}function re(n){if(l.platform.is.mobile===!0){$(),document.body.classList.add("non-selectable");const T=r.value,u=["touchmove","touchcancel","touchend","click"].map(A=>[T,A,"delayHide","passiveCapture"]);M(f,"tooltipTemp",u)}v(()=>{ae(n)},t.delay)}function ie(n){l.platform.is.mobile===!0&&(L(f,"tooltipTemp"),$(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),v(()=>{w(n)},t.hideDelay)}function ue(){if(t.noParentEvent===!0||r.value===null)return;const n=l.platform.is.mobile===!0?[[r.value,"touchstart","delayShow","passive"]]:[[r.value,"mouseenter","delayShow","passive"],[r.value,"mouseleave","delayHide","passive"]];M(f,"anchor",n)}function Q(){if(r.value!==null||t.scrollTarget!==void 0){O.value=je(r.value,t.scrollTarget);const n=t.noParentEvent===!0?g:w;ee(O.value,n)}}function ce(){return p.value===!0?R("div",{...a,ref:d,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",a.class],style:[a.style,X.value],role:"tooltip"},Be(s.default)):null}function de(){return R(he,K.value,ce)}return D(H),Object.assign(i.proxy,{updatePosition:g}),ne}}),Me=["src"],Re={class:"row",style:{gap:"16px","flex-wrap":"wrap"}},Ve={key:0,class:"flex items-center",style:{gap:"6px"}},$e={__name:"ChartTable",props:{legend:{type:Array,default:()=>[]}},setup(t){const s=t,y=h(()=>s.legend.filter(a=>(s.legend.some(o=>o.key==11)||s.legend.some(o=>o.key==12))&&a.key==10||s.legend.some(o=>o.key==2)&&a.key==11?!1:!(s.legend.some(o=>o.key==3)&&a.key==12)).map(a=>a.key==11?{...a,key:2}:a.key==12?{...a,key:3}:a));return(a,o)=>(m(),V(fe,{class:"stats-table",flat:"",bordered:"","virtual-scroll":"","hide-bottom":!s.legend.length,"rows-per-page-options":[-1]},pe({"body-cell-status":c(e=>[C(N,{props:e,style:I(e.row.status>=11?{background:`linear-gradient(to bottom, ${s.legend.find(i=>i.key==e.row.status)?.color} 50%, #bf2a2a 50%)`}:{backgroundColor:s.legend.find(i=>i.key==e.row.status)?.color})},null,8,["props","style"])]),"body-cell-team":c(e=>[e.row.message?(m(),V(De,{key:0,name:"info",color:"primary",size:"20px",style:{position:"absolute",left:"-40px","margin-top":"13px"}},{default:c(()=>[C(Le,null,{default:c(()=>[b(S(e.row.message),1)]),_:2},1024)]),_:2},1024)):q("",!0),C(N,{props:e,style:{"align-items":"center"},class:"row"},{default:c(()=>[k("img",{src:e.row.logo,style:{width:"16px","margin-right":"8px"}},null,8,Me),b(" "+S(e.row.team),1)]),_:2},1032,["props"])]),_:2},[s.legend.length?{name:"bottom",fn:c(()=>[k("div",Re,[(m(!0),x(ve,null,ke(y.value,e=>(m(),x("div",{key:e.key,class:"flex items-center",style:{gap:"6px"}},[k("div",{style:I({backgroundColor:e.color,width:"10px",height:"10px",borderRadius:"2px"})},null,4),b(" "+S(e.label),1)]))),128)),s.legend.some(e=>e.key==11||e.key==12)?(m(),x("div",Ve,[...o[0]||(o[0]=[k("div",{style:{backgroundColor:"#bf2a2a",width:"10px",height:"10px",borderRadius:"2px"}},null,-1),b(" Relegation ",-1)])])):q("",!0)])]),key:"0"}:void 0]),1032,["hide-bottom"]))}};export{$e as _};
