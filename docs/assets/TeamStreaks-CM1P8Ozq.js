import{h as C,c as S}from"./QBtn-Cc9BGu34.js";import{a as T,Q as f}from"./QTable-y0yCDOCI.js";import{c as Q,a as B,h as N,r as u,w as j,P as x,I as d,N as t,M as o,H as _,V as g,S as L,J as c,Q as k,O as r,U as h,R as U}from"./index-BFLqRv9F.js";import{_ as z,S as H,L as $,a as q,b as D}from"./ShowResults-vaSCvGOq.js";import{_ as O}from"./SelectTeam-D_-4JhUR.js";import"./QList-DTpxc1Xp.js";import"./format-DrWidby5.js";const y=Q({name:"QTr",props:{props:Object,noHover:Boolean},setup(i,{slots:a}){const n=B(()=>"q-tr"+(i.props===void 0||i.props.header===!0?"":" "+i.props.__trClass)+(i.noHover===!0?" q-tr--no-hover":""));return()=>N("tr",{style:i.props?.__trStyle,class:n.value},C(a.default))}}),R={class:"buttons-container"},E={class:"data-container"},F={style:{"font-weight":"bold","margin-left":"10px"}},I={class:"expanded-row"},J={style:{width:"45%",display:"flex","justify-content":"flex-end"}},P=["src"],A={style:{width:"45%",display:"flex","justify-content":"space-between"}},G={style:{display:"flex","justify-content":"flex-start"}},K=["src"],W={class:"text-grey",style:{"font-size":"11px",display:"flex","align-items":"center"}},oe={__name:"TeamStreaks",setup(i){const a=u(null),n=u(null),m=u([{streak:"Most consecutive wins"},{streak:"Most consecutive draws"},{streak:"Most consecutive losses"},{streak:"Most consecutive matches scoring"},{streak:"Most consecutive matches conceding"},{streak:"Most consecutive matches without winning"},{streak:"Most consecutive matches without drawing"},{streak:"Most consecutive matches without losing"},{streak:"Most consecutive matches without scoring"},{streak:"Most consecutive matches without conceding"}]),b=u([{name:"streak",field:"streak"},{name:"result",field:"result"},{name:"button",field:"button"}]),v=u(!1),p=u(!1),M=async()=>{if(!a.value||!n.value)return;v.value=!0;const w=setTimeout(()=>{p.value=!0},1e4),s=await D.get("https://football-charts-backend.onrender.com/team-streaks",{params:{league_name:a.value,team_name:n.value}});clearTimeout(w),v.value=!1,p.value=!1;for(let e=0;e<m.value.length;e++)m.value[e].result=s.data[e].record,m.value[e].matches=s.data[e].matches;console.log(s.data)};return j(a,()=>{n.value=null}),(w,s)=>(d(),x(k,null,[t("div",R,[o(z,{modelValue:a.value,"onUpdate:modelValue":s[0]||(s[0]=e=>a.value=e)},null,8,["modelValue"]),o(O,{modelValue:n.value,"onUpdate:modelValue":s[1]||(s[1]=e=>n.value=e),league:a.value,"onUpdate:league":s[2]||(s[2]=e=>a.value=e)},null,8,["modelValue","league"]),o(H,{onClick:M})]),t("div",E,[v.value?(d(),_(q,{key:0})):g("",!0),o($,{class:L({visible:p.value})},null,8,["class"]),v.value?g("",!0):(d(),_(T,{key:1,rows:m.value,columns:b.value,class:"streaks-table",separator:"cell",flat:"",bordered:"","hide-header":"","hide-bottom":"","rows-per-page-options":[-1]},{body:c(e=>[o(y,{props:e},{default:c(()=>[o(f,{style:{width:"500px"}},{default:c(()=>[o(S,{size:"10px",round:"",dense:"",flat:"",onClick:l=>e.row.expand=!e.row.expand,icon:e.row.expand?"remove":"add"},null,8,["onClick","icon"]),t("span",F,r(e.row.streak),1)]),_:2},1024),o(f,{style:{width:"60px","text-align":"center"}},{default:c(()=>[h(r(e.row.result??""),1)]),_:2},1024)]),_:2},1032,["props"]),e.row.expand?(d(!0),x(k,{key:0},U(e.row.matches,(l,V)=>(d(),_(y,{key:V},{default:c(()=>[o(f,{colspan:"100%"},{default:c(()=>[t("div",I,[t("div",J,[h(r(l[1])+" ",1),t("img",{src:l[2],style:{width:"16px","margin-left":"6px","margin-right":"3px"}},null,8,P)]),t("div",null,r(l[0].home_goals),1),s[3]||(s[3]=t("div",null,"-",-1)),t("div",null,r(l[0].away_goals),1),t("div",A,[t("div",G,[t("img",{src:l[4],style:{width:"16px","margin-left":"3px","margin-right":"6px"}},null,8,K),h(" "+r(l[3]),1)]),t("div",W,r(l[0].date),1)])])]),_:2},1024)]),_:2},1024))),128)):g("",!0)]),_:1},8,["rows","columns"]))])],64))}};export{oe as default};
