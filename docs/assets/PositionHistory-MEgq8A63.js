import{Q as v,a as y}from"./QTable-z4plMIez.js";import{_,S as x,L as S,a as V,b as P}from"./ShowResults-DnWw1412.js";import{S as T}from"./SelectPosition-BToML1tR.js";import{u as a,w as b,N as k,G as f,L as p,K as i,F as c,S as w,R as G,H as g,T as L,O as M,Q as D,M as B}from"./index-C275C3uD.js";import"./QBtn-Cm945ebs.js";import"./format-BfvkFYMi.js";import"./QList-Dj7ZBGxK.js";const N={class:"buttons-container"},C={class:"data-container"},F=["src"],K={__name:"PositionHistory",setup(Q){const l=a(null),e=a(null),o=a(null),u=a([]);let d;const n=a(!1),m=a(!1),h=async()=>{if(!l.value||!e.value)return;n.value=!0;const r=setTimeout(()=>{m.value=!0},1e4);l.value=="Serie A"||l.value=="Ligue 1"?d=a([{name:"season",field:"season",label:"Season",sortable:!0},{name:"position",field:"position",label:"#",sortable:!0},{name:"team",field:"team",label:"Team",sortable:!0,align:"left",style:"width: 250px"},{name:"ppm",field:"ppm",label:"PPM",sortable:!0,style:"width: 70px; font-weight: bold"},{name:"points",field:"points",label:"Points",sortable:!0,style:"width: 70px"},{name:"matches_played",field:"matches_played",label:"MP",sortable:!0,style:"width: 70px"},{name:"wins",field:"wins",label:"W",sortable:!0,style:"width: 70px"},{name:"draws",field:"draws",label:"D",sortable:!0,style:"width: 70px"},{name:"losses",field:"losses",label:"L",sortable:!0,style:"width: 70px"},{name:"goals_for",field:"goals_for",label:"GF",sortable:!0,style:"width: 70px"},{name:"goals_against",field:"goals_against",label:"GA",sortable:!0,style:"width: 70px"},{name:"goal_difference",field:"goal_difference",label:"GD",sortable:!0,style:"width: 70px"}]):d=a([{name:"season",field:"season",label:"Season",sortable:!0},{name:"position",field:"position",label:"#",sortable:!0},{name:"team",field:"team",label:"Team",sortable:!0,align:"left",style:"width: 250px"},{name:"points",field:"points",label:"Points",sortable:!0,style:"width: 70px; font-weight: bold"},{name:"matches_played",field:"matches_played",label:"MP",sortable:!0,style:"width: 70px"},{name:"wins",field:"wins",label:"W",sortable:!0,style:"width: 70px"},{name:"draws",field:"draws",label:"D",sortable:!0,style:"width: 70px"},{name:"losses",field:"losses",label:"L",sortable:!0,style:"width: 70px"},{name:"goals_for",field:"goals_for",label:"GF",sortable:!0,style:"width: 70px"},{name:"goals_against",field:"goals_against",label:"GA",sortable:!0,style:"width: 70px"},{name:"goal_difference",field:"goal_difference",label:"GD",sortable:!0,style:"width: 70px"}]);const s=await P.get("https://football-charts-backend.onrender.com/position-history",{params:{league_name:l.value,position:e.value}});clearTimeout(r),n.value=!1,m.value=!1,u.value=s.data};return b(l,()=>{e.value=null}),b(l,r=>{r=="Bundesliga"?o.value=18:o.value=20}),b(e,()=>{e.value>o.value?e.value=o.value:e.value!=null&&e.value<1&&(e.value=1)}),(r,s)=>(f(),k(M,null,[p("div",N,[i(_,{modelValue:l.value,"onUpdate:modelValue":s[0]||(s[0]=t=>l.value=t)},null,8,["modelValue"]),i(T,{modelValue:e.value,"onUpdate:modelValue":s[1]||(s[1]=t=>e.value=t),modelModifiers:{number:!0},disable:!l.value,max:o.value},null,8,["modelValue","disable","max"]),i(x,{onClick:h})]),p("div",C,[n.value?(f(),c(V,{key:0})):w("",!0),i(S,{class:G({visible:m.value})},null,8,["class"]),u.value.length&&!n.value?(f(),c(v,{key:1,class:"stats-table",flat:"",bordered:"",rows:u.value,columns:L(d),"virtual-scroll":"","hide-bottom":"","rows-per-page-options":[0]},{"body-cell-team":g(t=>[i(y,{props:t,style:{"align-items":"center"},class:"row"},{default:g(()=>[p("img",{src:t.row.logo,style:{width:"16px","margin-right":"8px"}},null,8,F),D(" "+B(t.row.team),1)]),_:2},1032,["props"])]),_:1},8,["rows","columns"])):w("",!0)])],64))}};export{K as default};
