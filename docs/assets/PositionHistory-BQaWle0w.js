import{_ as L,S as P,L as V,a as k,b as S}from"./ShowResults-D_AC0FBO.js";import{_ as G}from"./ChartTable-Jxy_Senr.js";import{_ as M}from"./SelectNumber-CXXj6v2-.js";import{u as t,w as p,a as T,N as D,G as f,L as c,K as n,F as g,S as w,R as B,T as F,O as N,i as b}from"./index-BAp8I7Ne.js";import"./QBtn-CiARDDcB.js";import"./format-CchYG6PY.js";import"./QList-DMuKSgKP.js";const C={class:"buttons-container"},$={class:"data-container"},K={__name:"PositionHistory",setup(A){const l=t(null),e=t(null),r=t(null),h=b("leaguePositions"),v=b("specialLeagues"),_=b("tableLegend"),o=t([]);let d;const i=t(!1),u=t(!1),y=async()=>{if(!l.value||!e.value)return;i.value=!0;const a=setTimeout(()=>{u.value=!0},1e4);v.includes(l.value)?d=t([{name:"status",field:"status",label:"",sortable:!1,style:"width: 8px; padding: 0",headerStyle:"width: 8px; padding: 0"},{name:"season",field:"season",label:"Season",sortable:!0},{name:"position",field:"position",label:"#",sortable:!0},{name:"team",field:"team",label:"Team",sortable:!0,align:"left",style:"width: 270px"},{name:"ppm",field:"ppm",label:"PPM",sortable:!0,style:"width: 70px; font-weight: bold"},{name:"points",field:"points",label:"Points",sortable:!0,style:"width: 70px"},{name:"matches_played",field:"matches_played",label:"MP",sortable:!0,style:"width: 70px"},{name:"wins",field:"wins",label:"W",sortable:!0,style:"width: 70px"},{name:"draws",field:"draws",label:"D",sortable:!0,style:"width: 70px"},{name:"losses",field:"losses",label:"L",sortable:!0,style:"width: 70px"},{name:"goals_for",field:"goals_for",label:"GF",sortable:!0,style:"width: 70px"},{name:"goals_against",field:"goals_against",label:"GA",sortable:!0,style:"width: 70px"},{name:"goal_difference",field:"goal_difference",label:"GD",sortable:!0,style:"width: 70px"}]):d=t([{name:"status",field:"status",label:"",sortable:!1,style:"width: 8px; padding: 0",headerStyle:"width: 8px; padding: 0"},{name:"season",field:"season",label:"Season",sortable:!0},{name:"position",field:"position",label:"#",sortable:!0},{name:"team",field:"team",label:"Team",sortable:!0,align:"left",style:"width: 270px"},{name:"points",field:"points",label:"Points",sortable:!0,style:"width: 70px; font-weight: bold"},{name:"matches_played",field:"matches_played",label:"MP",sortable:!0,style:"width: 70px"},{name:"wins",field:"wins",label:"W",sortable:!0,style:"width: 70px"},{name:"draws",field:"draws",label:"D",sortable:!0,style:"width: 70px"},{name:"losses",field:"losses",label:"L",sortable:!0,style:"width: 70px"},{name:"goals_for",field:"goals_for",label:"GF",sortable:!0,style:"width: 70px"},{name:"goals_against",field:"goals_against",label:"GA",sortable:!0,style:"width: 70px"},{name:"goal_difference",field:"goal_difference",label:"GD",sortable:!0,style:"width: 70px"}]);const s=await S.get("https://football-charts-backend.onrender.com/position-history",{params:{league_name:l.value,position:e.value}});clearTimeout(a),i.value=!1,u.value=!1,o.value=s.data};p(l,()=>{e.value=null}),p(l,a=>{r.value=h[a]}),p(e,a=>{a>r.value?e.value=r.value:e.value!=null&&e.value<1&&(e.value=1)});const x=T(()=>_.filter(a=>o.value.some(s=>s.status==a.key)));return(a,s)=>(f(),D(N,null,[c("div",C,[n(L,{modelValue:l.value,"onUpdate:modelValue":s[0]||(s[0]=m=>l.value=m)},null,8,["modelValue"]),n(M,{modelValue:e.value,"onUpdate:modelValue":s[1]||(s[1]=m=>e.value=m),modelModifiers:{number:!0},disable:!l.value,label:"#"},null,8,["modelValue","disable"]),n(P,{onClick:y})]),c("div",$,[i.value?(f(),g(k,{key:0})):w("",!0),n(V,{class:B({visible:u.value})},null,8,["class"]),o.value.length&&!i.value?(f(),g(G,{key:1,rows:o.value,columns:F(d),legend:x.value},null,8,["rows","columns","legend"])):w("",!0)])],64))}};export{K as default};
