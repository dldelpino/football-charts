import{Q as N,a as S}from"./QTable-BfTvi9B-.js";import{_ as T,S as v,P}from"./SelectLeague-7_ncoknL.js";import{r as m,N as G,G as _,L as b,K as c,F as L,S as D,H as y,T as w,P as A,O as M,M as V}from"./index-C6mlnINT.js";import"./QBtn-1lZu7ACE.js";import"./format-CSC_wmZ4.js";import"./QList-Dm5VRfP4.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const $={class:"buttons-container"},C={class:"buttons-container",style:{"padding-bottom":"30px"}},B=["src"],H={__name:"PromotedTeams",setup(F){const a=m(null),p=m([]);let d;const u=m([]);function f(o){const s=[],e=[];for(let t=0;t<25;t++){const l=String(t).padStart(2,"0"),r=String(t+1).padStart(2,"0");e.push(`${l}/${r}`)}for(let t=0;t<25;t++){let l,r;if(t==0)r=e[0],a.value=="LaLiga"?l=["Villarreal","Las Palmas","Osasuna"]:a.value=="Premier League"?l=["Ipswich Town","Charlton Ath","Manchester City"]:a.value=="Serie A"?l=["Atalanta","Vicenza","Napoli"]:a.value=="Bundesliga"?l=["KÃ¶ln","Energie Cottbus","Bochum"]:a.value=="Ligue 1"&&(l=["Lille","Guingamp","Toulouse"]);else{const n=e[t-1];r=e[t];const g=[],h=[];o.forEach(i=>{i.Season==n?g.push(i.Team):i.Season==r&&h.push(i.Team)}),l=h.filter(i=>!g.includes(i))}o.forEach(n=>{n.Season==r&&l.includes(n.Team)&&s.push(n)})}return s}function x(){a.value=="Serie A"||a.value=="Ligue 1"?d=m([{name:"season",field:"season",label:"Season",sortable:!0},{name:"position",field:"position",label:"#",sortable:!0},{name:"team",field:"team",label:"Team",sortable:!0,align:"left",style:"width: 180px"},{name:"ppm",field:"ppm",label:"PPM",sortable:!0,align:"left",style:"width: 70px; font-weight: bold"},{name:"points",field:"points",label:"Points",sortable:!0,style:"width: 70px"},{name:"mp",field:"mp",label:"MP",sortable:!0,style:"width: 70px"},{name:"w",field:"w",label:"W",sortable:!0,style:"width: 70px"},{name:"d",field:"d",label:"D",sortable:!0,style:"width: 70px"},{name:"l",field:"l",label:"L",sortable:!0,style:"width: 70px"},{name:"gf",field:"gf",label:"GF",sortable:!0,style:"width: 70px"},{name:"ga",field:"ga",label:"GA",sortable:!0,style:"width: 70px"},{name:"gd",field:"gd",label:"GD",sortable:!0,style:"width: 70px"},{name:"top_scorer",field:"top_scorer",label:"Top Scorer",sortable:!0,style:"width: 220px"},{name:"top_scorer_goals",field:"top_scorer_goals",label:"Top Scorer Goals",sortable:!0}]):d=m([{name:"season",field:"season",label:"Season",sortable:!0},{name:"position",field:"position",label:"#",sortable:!0},{name:"team",field:"team",label:"Team",sortable:!0,align:"left",style:"width: 180px"},{name:"points",field:"points",label:"Points",sortable:!0,style:"width: 70px; font-weight: bold"},{name:"mp",field:"mp",label:"MP",sortable:!0,style:"width: 70px"},{name:"w",field:"w",label:"W",sortable:!0,style:"width: 70px"},{name:"d",field:"d",label:"D",sortable:!0,style:"width: 70px"},{name:"l",field:"l",label:"L",sortable:!0,style:"width: 70px"},{name:"gf",field:"gf",label:"GF",sortable:!0,style:"width: 70px"},{name:"ga",field:"ga",label:"GA",sortable:!0,style:"width: 70px"},{name:"gd",field:"gd",label:"GD",sortable:!0,style:"width: 70px"},{name:"top_scorer",field:"top_scorer",label:"Top Scorer",sortable:!0,style:"width: 220px"},{name:"top_scorer_goals",field:"top_scorer_goals",label:"Top Scorer Goals",sortable:!0}]),u.value=[],fetch(`data/${a.value.toLowerCase().replace(/\s+/g,"_")}.csv`).then(o=>o.text()).then(o=>{P.parse(o,{header:!0,complete:s=>{a.value=="Serie A"||a.value=="Ligue 1"?u.value=f(s.data).map(e=>({season:e.Season,position:Number(e["#"]),team:e.Team,ppm:Math.round(Number(e.Points)/Number(e.MP)*1e3)/1e3,points:Number(e.Points),mp:e.MP,w:Number(e.W),d:Number(e.D),l:Number(e.L),gf:Number(e.GF),ga:Number(e.GA),gd:Number(e.GD),top_scorer:e["Top Scorer"],top_scorer_goals:Number(e["Top Scorer Goals"]),logo:`icons/teams/${a.value}/${e.Team}.png`})):u.value=f(s.data).map(e=>({season:e.Season,position:Number(e["#"]),team:e.Team,points:Number(e.Points),mp:e.MP,w:Number(e.W),d:Number(e.D),l:Number(e.L),gf:Number(e.GF),ga:Number(e.GA),gd:Number(e.GD),top_scorer:e["Top Scorer"],top_scorer_goals:Number(e["Top Scorer Goals"]),logo:`icons/teams/${a.value}/${e.Team}.png`})),p.value=u.value}})})}return(o,s)=>(_(),G(A,null,[b("div",$,[c(T,{modelValue:a.value,"onUpdate:modelValue":s[0]||(s[0]=e=>a.value=e)},null,8,["modelValue"]),c(v,{onClick:x})]),b("div",C,[p.value.length?(_(),L(N,{key:0,class:"stats-table",flat:"",bordered:"",rows:p.value,columns:w(d),"virtual-scroll":"","hide-bottom":"","rows-per-page-options":[0]},{"body-cell-team":y(e=>[c(S,{props:e,style:{"align-items":"center"},class:"row"},{default:y(()=>[b("img",{src:e.row.logo,style:{width:"16px","margin-right":"8px"}},null,8,B),M(" "+V(e.row.team),1)]),_:2},1032,["props"])]),_:1},8,["rows","columns"])):D("",!0)])],64))}};export{H as default};
