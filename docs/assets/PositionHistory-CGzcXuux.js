import{_ as h,S as y,Q as v,a as x}from"./SelectLeague-B957qZtN.js";import{Q as _,a as P}from"./QTable-2j3t7Umm.js";import{S}from"./SelectPosition-BTAmJDTz.js";import{u as t,w as m,N as V,G as p,L as b,K as r,F as f,S as c,H as w,T as k,P as G,O as D,M as T}from"./index-Cdkfrr3v.js";import"./QBtn-brg1jMnT.js";import"./format-BmVyAz6n.js";import"./QList-BimuZNWX.js";const B={class:"buttons-container"},M={class:"buttons-container",style:{"padding-bottom":"30px"}},N=["src"],z={__name:"PositionHistory",setup(Q){const l=t(null),e=t(null),s=t(null),d=t([]);let u;const o=t(!1),g=async()=>{if(o.value=!0,!l.value||!e.value)return;l.value=="Serie A"||l.value=="Ligue 1"?u=t([{name:"season",field:"season",label:"Season",sortable:!0},{name:"position",field:"position",label:"#",sortable:!0},{name:"team",field:"team",label:"Team",sortable:!0,align:"left",style:"width: 250px"},{name:"ppm",field:"ppm",label:"PPM",sortable:!0,style:"width: 70px; font-weight: bold"},{name:"points",field:"points",label:"Points",sortable:!0,style:"width: 70px"},{name:"matches_played",field:"matches_played",label:"MP",sortable:!0,style:"width: 70px"},{name:"wins",field:"wins",label:"W",sortable:!0,style:"width: 70px"},{name:"draws",field:"draws",label:"D",sortable:!0,style:"width: 70px"},{name:"losses",field:"losses",label:"L",sortable:!0,style:"width: 70px"},{name:"goals_for",field:"goals_for",label:"GF",sortable:!0,style:"width: 70px"},{name:"goals_against",field:"goals_against",label:"GA",sortable:!0,style:"width: 70px"},{name:"goal_difference",field:"goal_difference",label:"GD",sortable:!0,style:"width: 70px"}]):u=t([{name:"season",field:"season",label:"Season",sortable:!0},{name:"position",field:"position",label:"#",sortable:!0},{name:"team",field:"team",label:"Team",sortable:!0,align:"left",style:"width: 250px"},{name:"points",field:"points",label:"Points",sortable:!0,style:"width: 70px; font-weight: bold"},{name:"matches_played",field:"matches_played",label:"MP",sortable:!0,style:"width: 70px"},{name:"wins",field:"wins",label:"W",sortable:!0,style:"width: 70px"},{name:"draws",field:"draws",label:"D",sortable:!0,style:"width: 70px"},{name:"losses",field:"losses",label:"L",sortable:!0,style:"width: 70px"},{name:"goals_for",field:"goals_for",label:"GF",sortable:!0,style:"width: 70px"},{name:"goals_against",field:"goals_against",label:"GA",sortable:!0,style:"width: 70px"},{name:"goal_difference",field:"goal_difference",label:"GD",sortable:!0,style:"width: 70px"}]);const i=await x.get("https://football-charts-backend.onrender.com/position-history",{params:{league_name:l.value,position:e.value}});o.value=!1,d.value=i.data};return m(l,()=>{e.value=null}),m(l,i=>{i=="Bundesliga"?s.value=18:s.value=20}),m(e,()=>{e.value>s.value?e.value=s.value:e.value!=null&&e.value<1&&(e.value=1)}),(i,n)=>(p(),V(G,null,[b("div",B,[r(h,{modelValue:l.value,"onUpdate:modelValue":n[0]||(n[0]=a=>l.value=a)},null,8,["modelValue"]),r(S,{modelValue:e.value,"onUpdate:modelValue":n[1]||(n[1]=a=>e.value=a),modelModifiers:{number:!0},disable:!l.value,max:s.value},null,8,["modelValue","disable","max"]),r(y,{onClick:g})]),b("div",M,[o.value?(p(),f(v,{key:0,style:{"margin-top":"50px"},color:"secondary",size:"50px",thickness:10})):c("",!0),d.value.length&&!o.value?(p(),f(_,{key:1,class:"stats-table",flat:"",bordered:"",rows:d.value,columns:k(u),"virtual-scroll":"","hide-bottom":"","rows-per-page-options":[0]},{"body-cell-team":w(a=>[r(P,{props:a,style:{"align-items":"center"},class:"row"},{default:w(()=>[b("img",{src:a.row.logo,style:{width:"16px","margin-right":"8px"}},null,8,N),D(" "+T(a.row.team),1)]),_:2},1032,["props"])]),_:1},8,["rows","columns"])):c("",!0)])],64))}};export{z as default};
