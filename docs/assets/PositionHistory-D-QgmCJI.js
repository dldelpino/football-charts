import{Q as h}from"./QBtn-Clmj25jx.js";import{Q as T}from"./QInput-Dx-wo-Oq.js";import{Q as V,a as Q}from"./QTable-BNVbApCn.js";import{_ as S,S as k,L as G,a as L,b as B}from"./ShowResults-CzUIZRkx.js";import{u as a,w as c,N as D,G as w,L as v,K as s,H as g,F as y,S as _,R as N,T as C,O as F,Q as I,M as z}from"./index-BNqAvhrV.js";import"./format-Cbpib6Lo.js";import"./QList-CsfkbXdL.js";const A={class:"buttons-container"},H={class:"data-container"},R=["src"],J={__name:"PositionHistory",setup(U){const l=a(null),e=a(null),i=a(null);let d=null,m=null;const x=()=>{e.value--,m=setTimeout(()=>{d=setInterval(()=>e.value--,50)},250)},M=()=>{e.value++,m=setTimeout(()=>{d=setInterval(()=>e.value++,50)},250)},r=()=>{clearInterval(d),clearTimeout(m)},p=a([]);let f;const u=a(!1),b=a(!1),P=async()=>{if(!l.value||!e.value)return;u.value=!0;const o=setTimeout(()=>{b.value=!0},1e4);l.value=="Serie A"||l.value=="Ligue 1"?f=a([{name:"season",field:"season",label:"Season",sortable:!0},{name:"position",field:"position",label:"#",sortable:!0},{name:"team",field:"team",label:"Team",sortable:!0,align:"left",style:"width: 250px"},{name:"ppm",field:"ppm",label:"PPM",sortable:!0,style:"width: 70px; font-weight: bold"},{name:"points",field:"points",label:"Points",sortable:!0,style:"width: 70px"},{name:"matches_played",field:"matches_played",label:"MP",sortable:!0,style:"width: 70px"},{name:"wins",field:"wins",label:"W",sortable:!0,style:"width: 70px"},{name:"draws",field:"draws",label:"D",sortable:!0,style:"width: 70px"},{name:"losses",field:"losses",label:"L",sortable:!0,style:"width: 70px"},{name:"goals_for",field:"goals_for",label:"GF",sortable:!0,style:"width: 70px"},{name:"goals_against",field:"goals_against",label:"GA",sortable:!0,style:"width: 70px"},{name:"goal_difference",field:"goal_difference",label:"GD",sortable:!0,style:"width: 70px"}]):f=a([{name:"season",field:"season",label:"Season",sortable:!0},{name:"position",field:"position",label:"#",sortable:!0},{name:"team",field:"team",label:"Team",sortable:!0,align:"left",style:"width: 250px"},{name:"points",field:"points",label:"Points",sortable:!0,style:"width: 70px; font-weight: bold"},{name:"matches_played",field:"matches_played",label:"MP",sortable:!0,style:"width: 70px"},{name:"wins",field:"wins",label:"W",sortable:!0,style:"width: 70px"},{name:"draws",field:"draws",label:"D",sortable:!0,style:"width: 70px"},{name:"losses",field:"losses",label:"L",sortable:!0,style:"width: 70px"},{name:"goals_for",field:"goals_for",label:"GF",sortable:!0,style:"width: 70px"},{name:"goals_against",field:"goals_against",label:"GA",sortable:!0,style:"width: 70px"},{name:"goal_difference",field:"goal_difference",label:"GD",sortable:!0,style:"width: 70px"}]);const n=await B.get("https://football-charts-backend.onrender.com/position-history",{params:{league_name:l.value,position:e.value}});clearTimeout(o),u.value=!1,b.value=!1,p.value=n.data};return c(l,()=>{e.value=null}),c(l,o=>{o=="Bundesliga"?i.value=18:i.value=20}),c(e,o=>{o>i.value?e.value=i.value:e.value!=null&&e.value<1&&(e.value=1)}),(o,n)=>(w(),D(F,null,[v("div",A,[s(S,{modelValue:l.value,"onUpdate:modelValue":n[0]||(n[0]=t=>l.value=t)},null,8,["modelValue"]),s(T,{modelValue:e.value,"onUpdate:modelValue":n[1]||(n[1]=t=>e.value=t),modelModifiers:{number:!0},disable:!l.value,outlined:"",rounded:"","bg-color":"white",dense:"",color:"secondary",style:{width:"110px"},label:"Pos."},{append:g(()=>[s(h,{round:"",dense:"",flat:"",icon:"remove",size:"10px",onMousedown:x,onMouseup:r,onMouseleave:r}),s(h,{round:"",dense:"",flat:"",icon:"add",size:"10px",onMousedown:M,onMouseup:r,onMouseleave:r})]),_:1},8,["modelValue","disable"]),s(k,{onClick:P})]),v("div",H,[u.value?(w(),y(L,{key:0})):_("",!0),s(G,{class:N({visible:b.value})},null,8,["class"]),p.value.length&&!u.value?(w(),y(V,{key:1,class:"stats-table",flat:"",bordered:"",rows:p.value,columns:C(f),"virtual-scroll":"","hide-bottom":"","rows-per-page-options":[0]},{"body-cell-team":g(t=>[s(Q,{props:t,style:{"align-items":"center"},class:"row"},{default:g(()=>[v("img",{src:t.row.logo,style:{width:"16px","margin-right":"8px"}},null,8,R),I(" "+z(t.row.team),1)]),_:2},1032,["props"])]),_:1},8,["rows","columns"])):_("",!0)])],64))}};export{J as default};
