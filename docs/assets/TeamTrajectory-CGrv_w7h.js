import{_,S as v,L as x,a as L,b as V}from"./ShowResults-H1WlIxwU.js";import{_ as k}from"./ChartTable-ChbEwWOg.js";import{_ as S}from"./SelectTeam-CdfwqulQ.js";import{r as l,w as P,a as T,P as G,I as m,N as p,M as r,H as f,V as b,S as M,W as D,Q as B,i as c}from"./index-DBXWPMSu.js";import"./QBtn-C0hvIQpq.js";import"./format-nXi49z3D.js";import"./QTable-CMy3LgaX.js";import"./QList-DYvQFhn5.js";const N={class:"buttons-container"},j={class:"data-container"},I={__name:"TeamTrajectory",setup(C){const a=l(null),t=l(null),g=c("specialLeagues"),w=c("tableLegend"),o=l([]);let d;const n=l(!1),u=l(!1),h=async()=>{if(!a.value||!t.value)return;n.value=!0;const i=setTimeout(()=>{u.value=!0},1e4);g.includes(a.value)?d=l([{name:"status",field:"status",label:"",sortable:!1,style:"width: 8px; padding: 0",headerStyle:"width: 8px; padding: 0"},{name:"season",field:"season",label:"Season",sortable:!0},{name:"position",field:"position",label:"#",sortable:!0},{name:"team",field:"team",label:"Team",sortable:!0,align:"left",style:"width: 270px"},{name:"ppm",field:"ppm",label:"PPM",sortable:!0,style:"width: 70px; font-weight: bold"},{name:"points",field:"points",label:"Points",sortable:!0,style:"width: 70px"},{name:"matches_played",field:"matches_played",label:"MP",sortable:!0,style:"width: 70px"},{name:"wins",field:"wins",label:"W",sortable:!0,style:"width: 70px"},{name:"draws",field:"draws",label:"D",sortable:!0,style:"width: 70px"},{name:"losses",field:"losses",label:"L",sortable:!0,style:"width: 70px"},{name:"goals_for",field:"goals_for",label:"GF",sortable:!0,style:"width: 70px"},{name:"goals_against",field:"goals_against",label:"GA",sortable:!0,style:"width: 70px"},{name:"goal_difference",field:"goal_difference",label:"GD",sortable:!0,style:"width: 70px"}]):d=l([{name:"status",field:"status",label:"",sortable:!1,style:"width: 8px; padding: 0",headerStyle:"width: 8px; padding: 0"},{name:"season",field:"season",label:"Season",sortable:!0},{name:"position",field:"position",label:"#",sortable:!0},{name:"team",field:"team",label:"Team",sortable:!0,align:"left",style:"width: 270px"},{name:"points",field:"points",label:"Points",sortable:!0,style:"width: 70px; font-weight: bold"},{name:"matches_played",field:"matches_played",label:"MP",sortable:!0,style:"width: 70px"},{name:"wins",field:"wins",label:"W",sortable:!0,style:"width: 70px"},{name:"draws",field:"draws",label:"D",sortable:!0,style:"width: 70px"},{name:"losses",field:"losses",label:"L",sortable:!0,style:"width: 70px"},{name:"goals_for",field:"goals_for",label:"GF",sortable:!0,style:"width: 70px"},{name:"goals_against",field:"goals_against",label:"GA",sortable:!0,style:"width: 70px"},{name:"goal_difference",field:"goal_difference",label:"GD",sortable:!0,style:"width: 70px"}]);const e=await V.get("https://football-charts-backend.onrender.com/team-trajectory",{params:{league_name:a.value,team_name:t.value}});clearTimeout(i),n.value=!1,u.value=!1,o.value=e.data};P(a,()=>{t.value=null});const y=T(()=>w.filter(i=>o.value.some(e=>e.status==i.key)));return(i,e)=>(m(),G(B,null,[p("div",N,[r(_,{modelValue:a.value,"onUpdate:modelValue":e[0]||(e[0]=s=>a.value=s)},null,8,["modelValue"]),r(S,{modelValue:t.value,"onUpdate:modelValue":e[1]||(e[1]=s=>t.value=s),league:a.value,"onUpdate:league":e[2]||(e[2]=s=>a.value=s)},null,8,["modelValue","league"]),r(v,{onClick:h})]),p("div",j,[n.value?(m(),f(L,{key:0})):b("",!0),r(x,{class:M({visible:u.value})},null,8,["class"]),o.value.length&&!n.value?(m(),f(k,{key:1,rows:o.value,columns:D(d),legend:y.value},null,8,["rows","columns","legend"])):b("",!0)])],64))}};export{I as default};
