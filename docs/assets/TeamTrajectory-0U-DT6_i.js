import{Q as P,_ as M,S as k,L as $,a as C,b as D}from"./ShowResults-DqZohlsW.js";import{_ as G}from"./ChartTable-DojqXnNB.js";import{Q as N}from"./format-CP9rsUGh.js";import{X as h,a as V,H as y,I as m,J as w,i as p,U as _,O as v,M as r,Y as Q,Z as U,N as c,W as T,r as o,w as B,P as j,V as x,S as z,Q as F}from"./index-CCOr-aBu.js";import"./QBtn-CFDTNVsL.js";import"./QList-DdvvBIX1.js";const W={style:{display:"flex","align-items":"center",gap:"8px"}},A=["src"],I={__name:"SelectTeam",props:{modelValue:{},modelModifiers:{},league:{},leagueModifiers:{}},emits:["update:modelValue","update:league"],setup(f){const e=h(f,"modelValue"),l=h(f,"league"),b=p("leagueCountry"),g=p("leagueTeams"),n=V(()=>l.value?g[l.value]:[]);return(d,s)=>(m(),y(P,{modelValue:e.value,"onUpdate:modelValue":s[0]||(s[0]=a=>e.value=a),disable:!l.value,options:n.value,outlined:"",rounded:"","bg-color":"white",size:"100px",dense:"",color:"secondary",style:{width:"220px"},label:"Team"},{option:w(a=>[r(N,Q(U(a.itemProps)),{default:w(()=>[c("div",W,[c("img",{src:`icons/teams/${T(b)[l.value]}/${a.opt}.png`,width:"16px"},null,8,A),_(" "+v(a.opt),1)])]),_:2},1040)]),"selected-item":w(a=>[_(v(a.opt),1)]),_:1},8,["modelValue","disable","options"]))}},R={class:"buttons-container"},E={class:"data-container"},q={__name:"TeamTrajectory",setup(f){const e=o(null),l=o(null),b=p("specialLeagues"),g=p("tableLegend"),n=o([]);let d;const s=o(!1),a=o(!1),S=async()=>{if(!e.value||!l.value)return;s.value=!0;const u=setTimeout(()=>{a.value=!0},1e4);b.includes(e.value)?d=o([{name:"status",field:"status",label:"",sortable:!1,style:"width: 8px; padding: 0",headerStyle:"width: 8px; padding: 0"},{name:"season",field:"season",label:"Season",sortable:!0},{name:"position",field:"position",label:"#",sortable:!0},{name:"team",field:"team",label:"Team",sortable:!0,align:"left",style:"width: 270px"},{name:"ppm",field:"ppm",label:"PPM",sortable:!0,style:"width: 70px; font-weight: bold"},{name:"points",field:"points",label:"Points",sortable:!0,style:"width: 70px"},{name:"matches_played",field:"matches_played",label:"MP",sortable:!0,style:"width: 70px"},{name:"wins",field:"wins",label:"W",sortable:!0,style:"width: 70px"},{name:"draws",field:"draws",label:"D",sortable:!0,style:"width: 70px"},{name:"losses",field:"losses",label:"L",sortable:!0,style:"width: 70px"},{name:"goals_for",field:"goals_for",label:"GF",sortable:!0,style:"width: 70px"},{name:"goals_against",field:"goals_against",label:"GA",sortable:!0,style:"width: 70px"},{name:"goal_difference",field:"goal_difference",label:"GD",sortable:!0,style:"width: 70px"}]):d=o([{name:"status",field:"status",label:"",sortable:!1,style:"width: 8px; padding: 0",headerStyle:"width: 8px; padding: 0"},{name:"season",field:"season",label:"Season",sortable:!0},{name:"position",field:"position",label:"#",sortable:!0},{name:"team",field:"team",label:"Team",sortable:!0,align:"left",style:"width: 270px"},{name:"points",field:"points",label:"Points",sortable:!0,style:"width: 70px; font-weight: bold"},{name:"matches_played",field:"matches_played",label:"MP",sortable:!0,style:"width: 70px"},{name:"wins",field:"wins",label:"W",sortable:!0,style:"width: 70px"},{name:"draws",field:"draws",label:"D",sortable:!0,style:"width: 70px"},{name:"losses",field:"losses",label:"L",sortable:!0,style:"width: 70px"},{name:"goals_for",field:"goals_for",label:"GF",sortable:!0,style:"width: 70px"},{name:"goals_against",field:"goals_against",label:"GA",sortable:!0,style:"width: 70px"},{name:"goal_difference",field:"goal_difference",label:"GD",sortable:!0,style:"width: 70px"}]);const t=await D.get("https://football-charts-backend.onrender.com/team-trajectory",{params:{league_name:e.value,team_name:l.value}});clearTimeout(u),s.value=!1,a.value=!1,n.value=t.data};B(e,()=>{l.value=null});const L=V(()=>g.filter(u=>n.value.some(t=>t.status==u.key)));return(u,t)=>(m(),j(F,null,[c("div",R,[r(M,{modelValue:e.value,"onUpdate:modelValue":t[0]||(t[0]=i=>e.value=i)},null,8,["modelValue"]),r(I,{modelValue:l.value,"onUpdate:modelValue":t[1]||(t[1]=i=>l.value=i),league:e.value,"onUpdate:league":t[2]||(t[2]=i=>e.value=i)},null,8,["modelValue","league"]),r(k,{onClick:S})]),c("div",E,[s.value?(m(),y(C,{key:0})):x("",!0),r($,{class:z({visible:a.value})},null,8,["class"]),n.value.length&&!s.value?(m(),y(G,{key:1,rows:n.value,columns:T(d),legend:L.value},null,8,["rows","columns","legend"])):x("",!0)])],64))}};export{q as default};
