import{h as x}from"./highcharts-vue.min-BwRlfGL6.js";import{_,S as k,a as w}from"./SelectLeague-DQY_v0Kb.js";import{S as V}from"./SelectPosition-PFOKhbzf.js";import{r as i,w as c,N as $,G as h,L as f,K as d,F as L,T as B,P as C}from"./index-6tADWFgs.js";import"./QBtn-DyOqBT4R.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./format-Dhn8UNVX.js";const S={class:"buttons-container"},F={class:"buttons-container",style:{"padding-bottom":"30px"}},z={__name:"PositionFrequency",setup(O){const t=i(null),e=i(null),s=i(null),m=i({title:{text:""},chart:{backgroundColor:"#eeeeee"},credits:{enabled:!1}}),p=i(0),g={LaLiga:"Spain","Premier League":"England","Serie A":"Italy",Bundesliga:"Germany","Ligue 1":"France"},b=async()=>{if(!t.value||!e.value)return;const l=(await w.get("https://football-charts-backend.onrender.com/position-frequency",{params:{league_name:t.value,position:e.value}})).data,o=Object.keys(l).length,v=[];for(let a=1;a<=o;a++)v.push(`hsl(120, ${Math.floor(a/(o+1)*100)}%, ${Math.floor(a/(o+1)*100)}%)`);const y=Object.entries(l).sort((a,u)=>u[1]-a[1]).map(([a,u])=>({name:a,y:u}));let n;e.value==1?n="st":e.value==2?n="nd":e.value==3?n="rd":n="th",m.value={title:{text:""},chart:{backgroundColor:"#eeeeee",type:"pie",height:700,width:1e3},colors:v,plotOptions:{pie:{size:500,dataLabels:{enabled:!0,useHTML:!0,style:{fontFamily:"Inter"},formatter:function(){return`<div class="row no-wrap items-center" style="font-size: 11px"><img src="https://raw.githubusercontent.com/dldelpino/football-charts/refs/heads/main/public/icons/teams/${g[t.value]}/${this.point.name}.png" style="width: 16px; margin-right: 6px">${this.point.name} (${this.point.y}) &#8203 &#8203 &#8203 &#8203 &#8203</div>`}}}},series:[{name:`Times finished ${e.value}${n}`,data:y}],credits:{enabled:!1}},p.value++};return c(t,()=>{e.value=null}),c(t,r=>{r=="Bundesliga"?s.value=18:s.value=20}),c(e,()=>{e.value>s.value?e.value=s.value:e.value!=null&&e.value<1&&(e.value=1)}),(r,l)=>(h(),$(C,null,[f("div",S,[d(_,{modelValue:t.value,"onUpdate:modelValue":l[0]||(l[0]=o=>t.value=o)},null,8,["modelValue"]),d(V,{modelValue:e.value,"onUpdate:modelValue":l[1]||(l[1]=o=>e.value=o),modelModifiers:{number:!0},disable:!t.value,max:s.value},null,8,["modelValue","disable","max"]),d(k,{onClick:b})]),f("div",F,[(h(),L(B(x.Chart),{key:p.value,options:m.value},null,8,["options"]))])],64))}};export{z as default};
