import{Q as y}from"./QSpinnerPuff-HQ7bTo4Z.js";import{_ as v,S as x,a as _}from"./SelectLeague-4guUeSOx.js";import{h as k}from"./highcharts-vue.min-BHABQtnv.js";import{r as n,N as w,G as i,L as p,K as d,F as m,S as f,T as C,P as L}from"./index-7wzqU85B.js";import"./QBtn-CzeR243Z.js";import"./format-BZENIv50.js";const V={class:"buttons-container"},S={class:"buttons-container",style:{"padding-bottom":"30px"}},O={__name:"PromotionFrequency",setup($){const t=n(null),h={LaLiga:"Spain","Premier League":"England","Serie A":"Italy",Bundesliga:"Germany","Ligue 1":"France"},c=n(0),u=n({title:{text:""},chart:{backgroundColor:"#eeeeee"},credits:{enabled:!1}}),o=n(!1),g=async()=>{if(o.value=!0,!t.value)return;const s=(await _.get("https://football-charts-backend.onrender.com/promotion-frequency",{params:{league_name:t.value}})).data;c.value++;const a=Object.entries(s).sort((e,l)=>l[1]-e[1]).map(([e,l])=>({name:e,y:l})),r=a[0].y;a.forEach(e=>{e.name=`<div class="row no-wrap items-center" style="font-size: 11px;">${e.name}<img src="https://raw.githubusercontent.com/dldelpino/football-charts/refs/heads/main/public/icons/teams/${h[t.value]}/${e.name}.png" style="width: 16px; margin-left: 6px;"></div>`,e.color=`hsl(120, ${(1-e.y/(r+1))*100}%, ${(1-e.y/(r+1))*100}%)`}),o.value=!1,u.value={title:{text:""},chart:{backgroundColor:"#eeeeee",type:"bar",height:30*a.length,width:800,marginRight:20},legend:{enabled:!1},xAxis:{type:"category",labels:{useHTML:!0}},yAxis:{max:r,title:"",labels:{enabled:!1}},plotOptions:{bar:{dataLabels:{enabled:!0,overflow:"allow",crop:!1,style:{fontFamily:"Inter"}}}},series:[{name:"Times promoted",data:a,pointWidth:20}],credits:{enabled:!1}}};return(b,s)=>(i(),w(L,null,[p("div",V,[d(v,{modelValue:t.value,"onUpdate:modelValue":s[0]||(s[0]=a=>t.value=a)},null,8,["modelValue"]),d(x,{onClick:g})]),p("div",S,[o.value?(i(),m(y,{key:0,style:{"margin-top":"50px"},color:"green-10",size:"50px",thickness:10})):f("",!0),o.value?f("",!0):(i(),m(C(k.Chart),{key:c.value,options:u.value},null,8,["options"]))])],64))}};export{O as default};
